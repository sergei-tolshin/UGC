# Сервис авторизации для кинотеатра

### Описание

Это приложение - часть большого проекта - онлайн-кинотеатра. Кинотеатр разрабатывается в рамках микросервисной архитектуры. Этот сервис - RESTful API, будет точкой входа для авторизации клиентов кинотеатра.

**Основные возможности API:**
- регистрация пользователей
- редактирование профиля пользователя
- обмен логина и пароля на пару токенов: JWT-access токен и refresh токен
- получение пользователем своей истории входов в аккаунт
- CRUD ролей 
- назначение/отзыв ролей(прав) пользователям
- проверка ролей(прав) пользователей

### Технологии
- Python 3.9
- Flask с использованием gevent
- Postgres
- Redis
- gunicorn/uvicorn workers
- Nginx
- Docker, docker-compose


### Запуск приложения
Для запуска приложения выполните:

1. склонируйте или скопируйте в репозиторий
```bash
$ git clone 'путь до репозитория'
```
2. создайте виртуальное окружение
```bash
$ python -m venv venv
```
3. активируйте виртуальное окружение
```bash
$ source venv/bin/activate
```
4. установите внешние зависимости из файла requirements.txt
```bash
$ pip install -r requirements.txt
```
6. запустите docker-compose
```bash
$ docker-compose up --build
```
Докер соберет необходимые образы и запустит контейнеры.

### Создание суперпользователя
Для создания суперпользователя можно воспользоваться консольной командой:
```
flask create superuser
```

### Документация и доступные эндпоинты
После запуска приложения посмотреть все доступные эндпоинты и протестировать его работу можно прямо в браузере. Для этого откройте страницу <http://0.0.0.0/apidocs/>

Доступны следующие эндпоинты:
```curl
GET http://localhost/api/v1/auth
GET http://localhost/api/v1/account
GET http://localhost/api/v1/rbac
```

Для получения более подробной информации обращайтесь к документации.

### Над проектом работали
* Сергей Толшин ([профиль на Github](https://github.com/sergei-tolshin))
* Юрий Матвеев ([профиль на Github ](https://github.com/YNMatveev))
